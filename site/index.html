<html><head>
<title>decl / home</title>
<link rel="stylesheet" href="res/site.css" />
<script src="res/highlight.js"></script>
<script src="res/js.js"></script>
<script src="res/swfobject.js"></script>
<script src="res/bhd.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body><div class="inner">
<h1>
  decl / home
</h1>
<iframe src="nav.html"></iframe>


<div id="dl_button"></div>

<h3>What is <code>decl</code>?</h3>
<p>
  <code>decl</code> is a javascript function that creates a prototype object and returns its constructor.
</p>

<h3>What else is like <code>decl</code>?</h3>

<p>
Dojo's <code>declare</code> is similar to <code>decl</code>.
A <code>declare</code> example from the 
<a href="http://livedocs.dojotoolkit.org/dojo/declare#basic-usage">
dojo documentation</a>, and a <code>decl</code> example:
</p>

<pre style="float:left; width:49%; "><code class="example">
// dojo.declare

dojo.declare("Person", null, {
  constructor: function(name, age, residence){
    this.name = name;
    this.age = age;
    this.residence = residence;
  },
  moveToNewState: function(newState){
    this.residence = newState;
  }
});
</code></pre>

<pre style="float:right; width:49%;"><code class="example">
// decl

var Person = decl({
  constructor: function(name, age, residence){
    this.name = name;
    this.age = age;
    this.residence = residence;
  },
  moveToNewState: function(newState){
    this.residence = newState;
  }
});
</code></pre>

<p> 
These code blocks look very similar. So why use <code>decl</code>?
</p>

<div style="width:33%;float:left;">

<h3><code>decl</code> is simple</h3>
<p>
The most noticeable difference is that <code>decl</code>'s 
syntax is easier to remember; it only takes one parameter and 
returns the result, instead of assigning the result to
a variable identified by a string in the first parameter.
</p>
<p>
One of <code>decl</code>'s main goals is to provide a syntax which is 
both easy to learn and easy to remember. 
</p>

</div>
<div style="width:33%;float:left;">

<h3><code>decl</code> is fast</h3>

<p> Constructors returned by <code>decl</code> are able to
instantiate new objects
<a href="http://jsperf.com/dojo-declare-vs-decl">much faster</a>
than those produced by <code>dojo.declare</code>. 
They perform as well as if they had been declared in plain old javascript.
</p><p>
The constructors created by Dojo are only able to create new
objects at about 12% of the speed of their <code>decl</code> counterparts.
</p>

</div>
<div style="width:33%;float:left;">

<h3><code>decl</code> doesn't pollute</h3>

<p>
The constructors and prototypes created by <code>decl</code> <i>don't have
any properties other than the ones you define.</i> 
By contrast, <code>dojo.declare</code> creates properties in
the constructor (<code>_meta</code> and <code>extend</code>)
<i>and</i> the prototype (<code>__inherited</code>,
<code>declaredClass</code>, <code>getInherited</code>,
<code>inherited</code>, <code>isInstanceOf</code>, and
<code>superclass</code>).
</p>

</div>
<div style="clear:both;"></div>

<p>
Dojo users interested in decl can find more information 
<a href="dojo.html">here</a>.
</p>

<script>

//(function(){

var testBtn = new BHD.Button({
  // id of the element to replace with this button (required)
  id:'dl_button',
  // button image
  sprite:'res/buttons.png'
},function(){
  // set default filename to the value of the text input
  testBtn.setFile(document.getElementById('filename').value);
  // set file contents to the value of the textarea
  testBtn.setData(document.getElementById('filedata').value);
});

//}());

</script>
</div></body></html>
